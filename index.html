<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
    <script src="/manager.js"></script>
    <title>Memoria V - Paginación Bajo Demanda</title>
  </head>
  <body onload="">
    <div class="card maincard">
      <div class="card-body">
        <h3 class="card-title">Memoria Virtual</h5>
        <h4 class="card-subtitle mb-2 text-muted">Simulador</h6>
        <h6 class="card-text">El presente programa simulará la paginación bajo demanda de la ejecución de un proceso en Memoria</h6>
        <h6 class="card-text">Cada Iteración equivale a un milisegundo (ms), y habrá tantas iteraciones como entradas del programa se indiquen</h6>
        <h6 class="card-text">Para reiniciar el programa e ingresar nuevas entradas</h6>
      </div>
    </div>

    <div class="container">
      <div class="row maincard datos">
        <div class="col">
          <h5>Entrada de datos</h5>
          <form class="row g-3">
            <div class="col-auto">
              <label for="staticEmail2" class="visually-hidden">Email</label>
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="staticEmail2"
                value="Tamaño SO"
              />
            </div>
            <div class="col-auto">
              <label for="inputPassword2" class="visually-hidden"
                >Password</label
              >
              <input
                type="number"
                class="form-control"
                id="tam_SO"
                placeholder="TAMAÑO EN PALABRAS"
              />
            </div>
            <div class="col-auto"></div>
          </form>
          <form class="row g-3">
            <div class="col-auto">
              <label for="staticEmail2" class="visually-hidden">Email</label>
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="staticEmail2"
                value="Tamaño Marco"
                required
              />
            </div>
            <div class="col-auto">
              <input
                type="number"
                class="form-control"
                id="tam_MAR"
                placeholder="TAMAÑO EN PALABRAS"
                required
              />
            </div>
          </form>
          <form class="row g-3">
            <div class="col-auto">
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="staticEmail2"
                value="Tamaño Proceso"
                required
              />
            </div>
            <div class="col-auto">
              <input
                type="number"
                class="form-control"
                id="tam_PROG"
                placeholder="TAMAÑO DEL PROCESO"
                required
              />
            </div>
          </form>
          <form class="row g-3">
            <div class="col-auto">
              <label for="staticEmail2" class="visually-hidden">Email</label>
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="staticEmail2"
                value="Numero Marcos"
                required
              />
            </div>
            <div class="col-auto">
              <input
                type="number"
                class="form-control"
                id="num_MAR"
                placeholder="NÚMERO ENTERO"
                required
              />
            </div>
          </form>
          <form class="row g-3">
            <div class="col-auto">
              <label for="staticEmail2" class="visually-hidden">Email</label>
              <input
                type="text"
                readonly
                class="form-control-plaintext"
                id="staticEmail2"
                value="Algoritmo"
                required
              />
            </div>
            <div class="col-auto">
              <input
                name="ALG"
                type="radio"
                class="form-check-input"
                id=""
                value="FIFO"
                checked
                required
              />
              <label class="form-check-label">FIFO</label>
            </div>
            <div class="col-auto">
              <input
                name="ALG"
                type="radio"
                class="form-check-input"
                id=""
                value="LRU"
                required
              />
              <label class="form-check-label">LRU</label>
            </div>
            <div class="col-auto">
              <input
                name="ALG"
                type="radio"
                class="form-check-input"
                id=""
                value="OPT"
                required
              />
              <label class="form-check-label">OPT</label>
            </div>
          </form>
          <button
            type="submit"
            class="btn btn-primary mb-3"
            onclick="validarData()"
          >
            CARGAR
          </button>
        </div>
      </div>
      <div id="marco_disco" class="row" style="display: none">
        <div id="pro_T_T" class="col maincard">
          <table id="pro_T" class="table">
            <thead>
              <tr>
                <th scope="col">PAGINA</th>
                <th scope="col">MARCO</th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="col maincard discoradius">
          <h5>DISCO</h5>
          <div id="disco_T" class="disco"></div>
        </div>
      </div>
    </div>
    <div id="ejecucion" style="display: none">
      <div class="card maincard">
        <div class="card-body">
          <h5 class="card-title">EJECUCION</h5>
          <div class="progress">
            <div
              class="progress-bar"
              role="progressbar"
              style="width: 100%"
              aria-valuenow="100"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>
        </div>
      </div>
      <div class="container datos2">
        <div class="row">
          <div class="col maincard">
            <h4>ENTRADA DE DATOS</h4>
            <form action="">
              <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"
                  >Dir Logica</label
                >
                <input
                  type="file"
                  class="form-control"
                  id="direcciones"
                  accept=".csv"
                  placeholder="Instrucciones"
                />
              </div>
            </form>
            <button
              id="accBtn"
              class="btn btn-primary"
              onclick="ingresarSeñales()"
            >
              CARGAR
            </button>
          </div>
          <div class="col maincard grid">
            <table id="acc_T" style="width: 100%" class="table table-striped">
              <tr>
                <th>Dir. Logica</th>
              </tr>
              <tr>
                <th>Acciones</th>
              </tr>
            </table>
          </div>
        </div>
        <div class="row">
          <button id="ejecBtn" class="btn btn-primary" onclick="document.getElementById('accBtn').disabled = true;document.getElementById('ejecBtn').disabled = true; ejecutar()">
            SIMULAR
          </button>
        </div>
        <div id="iteracionContainer" style="display: none;">
          <div class="card maincard">
            <div class="card-body">
              <h5 id='numeroIteracion' class="card-title">Iteración 0</h5>
              <h5 id='velocidadIteracion' class="card-title">Velocidad: 1</h5>
              <div id='avancemosColombia' class="progress">
                <div
                  class="progress-bar"
                  role="progressbar"
                  style="width: 0%"
                  aria-valuenow="100"
                  aria-valuemin="0"
                  aria-valuemax="100"
                ></div>
              </div>
            </div>
          </div>
          <div class="row maincard">
            <div id="tablaprueba" class="col">
              <table id="pro_T20" class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">PAGINA</th>
                    <th scope="col">DIR FISC</th>
                    <th scope="col">V/I</th>
                    <th scope="col">SUCIO</th>
                    <th scope="col">ULTIMO USO</th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
          <div id="padreitr" class="row maincard">
            <table id="itr_T" style="width: 100%" class="table table-striped">
              <tr>
                <th>ITERACION</th>
              </tr>
              <tr>
                <th>DIR LOG</th>
              </tr>
              <tr>
                <th>ACCION</th>
              </tr>
              <tr>
                <th>DIR FISC</th>
              </tr>
              <tr>
                <th>PAGINA</th>
              </tr>
              <tr>
                <th>MARCO</th>
              </tr>
              <tr>
                <th>SW IN</th>
              </tr>
              <tr>
                <th>SW OUT</th>
              </tr>
            </table>
          </div>
          <div id="MarcosContainer" class="col">
            <table id="ToBeDeleted" class="table"></table>
          </div>
          <ul id="Comments" class="list-group list-group-flush shadow p-3 mb-5 bg-white rounded">
            <li class="list-group-item active">BITACORA</li>
          </ul>
        </div>
      </div>
      <div class="card controles">
        <h5 class="card-header">CONTROLES</h5>
        <div class="card-body">
          <h5 class="card-title">
            Para pausar o acelerar la ejecucion
          </h5>
          <button onclick="pauseStart()" class="btn btn-danger" id="pausado">▶</button>
          <button onclick="setVel(40)" class="btn btn-danger">V0.5</button>
          <button onclick="setVel(20)" class="btn btn-primary">V1</button>
          <button onclick="setVel(10)" class="btn btn-success">V2</button>
          <button onclick="setVel(5)"  class="btn btn-success">V3</button>
          <button onclick="imprimirBitacora()"  class="btn btn-warning">PRT</button>
        </div>
      </div>
    </div>
  </body>
</html>
